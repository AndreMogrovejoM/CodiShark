import{C as w,a2 as u}from"./index.a3dc70de.js";import{t as s,w as n,d as m,x as l}from"./validations.utils.84d5da41.js";import{b as h,c as g}from"./Layout.container.33c3d07e.js";const{API:y}=w,{REACT_APP_API_URL:o}=y,p=async()=>{try{const e=await s.get(`${o}/admin/home/panel/month`,{headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},f=async e=>{const{dateIni:t,dateEnd:r}=e;try{const a=await s.get(`${o}/admin/home/panel?dateIni=${t}&dateEnd=${r}`,{headers:n()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},$=async(e,t,r,a="",i)=>{try{const c=await s.get(`${o}/admin/users?rol=${e}&take=${r}&skip=${t}&search=${a}`,{headers:n()});return c==null?void 0:c.data}catch(c){throw new Error(c.message)}},E=async(e,t,r,a,i)=>{const c=r?`${o}/admin/operations?status=${r}&take=${t}&skip=${e}&search=${a}`:`${o}/admin/operations?take=${t}&skip=${e}&search=${a}`;try{const d=await s.get(c,{headers:n()});return d==null?void 0:d.data}catch(d){throw new Error(d.message)}},P=async e=>{try{const t=await s.get(`${o}/admin/home/grafic/income?year=${e}`,{headers:n()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},C=async()=>{try{const e=await s.get(`${o}/admin/export/users/pdf`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},v=async()=>{try{const e=await s.get(`${o}/admin/export/users/excel`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},U=async()=>{try{const e=await s.get(`${o}/admin/export/operations/pdf`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},F=async()=>{try{const e=await s.get(`${o}/admin/export/operations/excel`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},x=async()=>{try{const e=await s.post("/admin/generate2fa",{headers:n()}),{data:t}=e!=null?e:{};return t}catch(e){throw new Error(e.message)}},Q=async()=>{try{return await s.get("/admin/generate2fa/active",{headers:n()})}catch(e){throw new Error(e.message)}},S=async()=>{try{return await s.get("/admin/generate2fa/desactive",{headers:n()})}catch(e){throw new Error(e.message)}},k=async e=>{try{return await s.post("/admin/listUsers",e,{headers:n()})}catch(t){throw new Error(t.message)}},O=()=>{const e=m.getCookie("token");return h(["panel-month"],()=>p(),{enabled:!!e,staleTime:15*1e3*60})},I=(e,t)=>{const r=m.getCookie("token");return h(["panel",e,t],()=>f({dateIni:e,dateEnd:t}),{enabled:!!r&&!!e&&!!t,staleTime:15*1e3*60})},N=(e=1,t=0,r=10,a)=>{const i=m.getCookie("token");return g(["users-list",e,t,r,a],({pageParam:c})=>$(e,t,r,a),{enabled:!!i,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},D=(e=0,t=10,r,a="")=>{const i=m.getCookie("token");return g(["operations-list",e,t,r,a],({pageParam:c})=>E(e,t,r,a),{enabled:!!i,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},G=e=>{const t=m.getCookie("token");return h(["graphics-income",e],()=>P(e),{enabled:!!t,staleTime:15*1e3*60})},M=()=>{const e=u();return l(x,{onMutate:async()=>{await e.cancelQueries("2fa")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("2fa")}})},_=()=>{const e=u();return l(k,{onMutate:async()=>{await e.cancelQueries("file")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("file")}})};export{_ as a,I as b,D as c,O as d,U as e,F as f,N as g,C as h,v as i,M as j,S as k,Q as l,G as u};
