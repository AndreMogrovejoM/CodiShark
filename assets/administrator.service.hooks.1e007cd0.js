import{C as w,a2 as l}from"./index.9ad24540.js";import{t as r,w as s,d as m,x as u}from"./validations.utils.034110a4.js";import{b as h,c as y}from"./Layout.container.b6dc7091.js";const{API:p}=w,{REACT_APP_API_URL:o}=p,g=async()=>{try{const e=await r.get(`${o}/admin/home/panel/month`,{headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},f=async e=>{const{dateIni:t,dateEnd:n}=e;try{const a=await r.get(`${o}/admin/home/panel?dateIni=${t}&dateEnd=${n}`,{headers:s()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},E=async(e,t,n,a="",c)=>{try{const i=await r.get(`${o}/admin/users?rol=${e}&take=${n}&skip=${t}&search=${a}`,{headers:s()});return i==null?void 0:i.data}catch(i){throw new Error(i.message)}},P=async(e,t,n,a,c)=>{const i=n?`${o}/admin/operations?status=${n}&take=${t}&skip=${e}&search=${a}`:`${o}/admin/operations?take=${t}&skip=${e}&search=${a}`;try{const d=await r.get(i,{headers:s()});return d==null?void 0:d.data}catch(d){throw new Error(d.message)}},$=async e=>{try{const t=await r.get(`${o}/admin/home/grafic/income?year=${e}`,{headers:s()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},Q=async()=>{try{const e=await r.get(`${o}/admin/export/users/pdf`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},S=async()=>{try{const e=await r.get(`${o}/admin/export/users/excel`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},U=async()=>{try{const e=await r.get(`${o}/admin/export/operations/pdf`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},F=async()=>{try{const e=await r.get(`${o}/admin/export/operations/excel`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},x=async()=>{try{const e=await r.post("/admin/generate2fa",{headers:s()}),{data:t}=e!=null?e:{};return t}catch(e){throw new Error(e.message)}},I=async()=>{try{return await r.get("/admin/generate2fa/active",{headers:s()})}catch(e){throw new Error(e.message)}},M=async()=>{try{return await r.get("/admin/generate2fa/desactive",{headers:s()})}catch(e){throw new Error(e.message)}},k=async e=>{try{return await r.post("/admin/listUsers",e,{headers:s()})}catch(t){throw new Error(t.message)}},b=async e=>{try{return await r.post("/admin/operations/validate",{operation_id:e},{headers:s()})}catch(t){throw new Error(t.message)}},v=async e=>{try{return await r.post("/admin/operations/invalidate",{operation_id:e},{headers:s()})}catch(t){throw new Error(t.message)}},O=()=>{const e=m.getCookie("token");return h(["panel-month"],()=>g(),{enabled:!!e,staleTime:15*1e3*60})},_=(e,t)=>{const n=m.getCookie("token");return h(["panel",e,t],()=>f({dateIni:e,dateEnd:t}),{enabled:!!n&&!!e&&!!t,staleTime:15*1e3*60})},q=(e=1,t=0,n=10,a)=>{const c=m.getCookie("token");return y(["users-list",e,t,n,a],({pageParam:i})=>E(e,t,n,a),{enabled:!!c,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},N=(e=0,t=10,n,a="")=>{const c=m.getCookie("token");return y(["operations-list",e,t,n,a],({pageParam:i})=>P(e,t,n,a),{enabled:!!c,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},D=e=>{const t=m.getCookie("token");return h(["graphics-income",e],()=>$(e),{enabled:!!t,staleTime:15*1e3*60})},G=()=>{const e=l();return u(x,{onMutate:async()=>{await e.cancelQueries("2fa")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("2fa")}})},B=()=>{const e=l();return u(k,{onMutate:async()=>{await e.cancelQueries("file")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("file")}})},R=e=>{const t=l();return u(b,{onMutate:async()=>{await t.cancelQueries("operations-list")},onError:()=>{console.error("")},onSettled:()=>{t.invalidateQueries("operations-list")}})},j=e=>{const t=l();return u(v,{onMutate:async()=>{await t.cancelQueries("operations-list")},onError:()=>{console.error("")},onSettled:()=>{t.invalidateQueries("operations-list")}})};export{B as a,_ as b,N as c,O as d,R as e,j as f,U as g,F as h,q as i,Q as j,S as k,G as l,M as m,I as n,D as u};
