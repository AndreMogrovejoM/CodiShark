import{C as h,a2 as m}from"./index.222ffc61.js";import{p as s,q as n,d as i,r as u}from"./auth.service.hooks.ec00bf56.js";import{a as d}from"./Layout.container.764bc839.js";const{API:l}=h,{REACT_APP_API_URL:o}=l,w=async()=>{try{const e=await s.get(`${o}/admin/home/panel/month`,{headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},g=async e=>{const{dateIni:t,dateEnd:r}=e;try{const a=await s.get(`${o}/admin/home/panel?dateIni=${t}&dateEnd=${r}`,{headers:n()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},y=async(e,t,r="")=>{try{const a=await s.get(`${o}/admin/users?rol=${e}&take=${t}&search=${r}`,{headers:n()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},p=async(e,t=4,r="")=>{const a=e?`${o}/admin/operations?status=${e}&take=${t}&search=${r}`:`${o}/admin/operations?take=${t}&search=${r}`;try{const c=await s.get(a,{headers:n()});return c==null?void 0:c.data}catch(c){throw new Error(c.message)}},f=async e=>{try{const t=await s.get(`${o}/admin/home/grafic/income?year=${e}`,{headers:n()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},A=async()=>{try{const e=await s.get(`${o}/admin/export/users/pdf`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},x=async()=>{try{const e=await s.get(`${o}/admin/export/users/excel`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},T=async()=>{try{const e=await s.get(`${o}/admin/export/operations/pdf`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},C=async()=>{try{const e=await s.get(`${o}/admin/export/operations/excel`,{responseType:"blob",headers:n()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},$=async()=>{try{const e=await s.post("/admin/generate2fa",{headers:n()}),{data:t}=e!=null?e:{};return t}catch(e){throw new Error(e.message)}},P=async()=>{try{return await s.get("/admin/generate2fa/active",{headers:n()})}catch(e){throw new Error(e.message)}},F=async()=>{try{return await s.get("/admin/generate2fa/desactive",{headers:n()})}catch(e){throw new Error(e.message)}},v=()=>{const e=i.getCookie("token");return d(["panel-month"],()=>w(),{enabled:!!e,staleTime:15*1e3*60})},O=(e,t)=>{const r=i.getCookie("token");return d(["panel",e,t],()=>g({dateIni:e,dateEnd:t}),{enabled:!!r&&!!e&&!!t,staleTime:15*1e3*60})},S=(e=1,t=4,r)=>{const a=i.getCookie("token");return d(["users-list",e,t,r],()=>y(e,t,r),{enabled:!!a,staleTime:15*1e3*60})},U=(e,t=4,r)=>{const a=i.getCookie("token");return d(["operations-list",e,t,r],()=>p(e,t,r),{enabled:!!a,staleTime:15*1e3*60})},Q=e=>{const t=i.getCookie("token");return d(["graphics-income",e],()=>f(e),{enabled:!!t,staleTime:15*1e3*60})},G=()=>{const e=m();return u($,{onMutate:async()=>{await e.cancelQueries("2fa")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("2fa")}})};export{O as a,U as b,v as c,C as d,T as e,S as f,A as g,x as h,G as i,F as j,P as k,Q as u};
