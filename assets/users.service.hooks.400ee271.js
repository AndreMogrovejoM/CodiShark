import{a2 as d}from"./index.a3dc70de.js";import{t as s,w as o,d as c,x as m}from"./validations.utils.84d5da41.js";import{b as i,c as h}from"./Layout.container.33c3d07e.js";const p=async()=>{try{const e=await s.get("/debts",{headers:o()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},b=async e=>{var t;try{const a=await s.get(`/operations/${e}`,{headers:o()});return(t=a==null?void 0:a.data)==null?void 0:t.data}catch(a){throw new Error(a.message)}},g=async(e,t,a)=>{try{const r=await s.get(`/operations?take=${t}&skip=${e}`,{headers:o()});return r==null?void 0:r.data}catch(r){throw new Error(r.message)}},w=async e=>{const{amount:t,debtId:a,type:r=1}=e;try{const n=await s.post("/operations/generateTransfer",{debt_id:a,amount_paid:t,type:r},{headers:o()}),{data:u}=n!=null?n:{};return u}catch(n){throw new Error(n.message)}},k=async e=>{try{const t=await s.get(`/operations/exportpdf/${e}`,{responseType:"blob",headers:o()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},E=async e=>{try{return await s.get(`/operations/sendMail/${e}`,{headers:o()})}catch(t){throw new Error(t.message)}},x=()=>{const e=c.getCookie("token");return i(["users","debts"],()=>p(),{enabled:!!e,staleTime:15*1e3*60})},D=e=>{const t=c.getCookie("token");return i(["users","debt",e],()=>b(e),{enabled:!!t&&!!e,staleTime:15*1e3*60})},O=(e=0,t=10)=>{const a=c.getCookie("token");return h(["user-operations-list",e,t],({pageParam:r})=>g(e,t),{enabled:!!a,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},P=()=>{const e=d();return m(w,{onMutate:async()=>{await e.cancelQueries("operationNumber")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("operationNumber")}})};export{x as a,O as b,D as c,k as e,E as s,P as u};
