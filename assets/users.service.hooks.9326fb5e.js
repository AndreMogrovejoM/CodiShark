import{a2 as d}from"./index.e172364c.js";import{p as a,q as s,d as n,r as h}from"./auth.service.hooks.491fdc41.js";import{a as c}from"./Layout.container.28d71187.js";const m=async()=>{try{const e=await a.get("/debts",{headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},b=async e=>{var t;try{const r=await a.get(`/operations/${e}`,{headers:s()});return(t=r==null?void 0:r.data)==null?void 0:t.data}catch(r){throw new Error(r.message)}},p=async(e,t)=>{try{const r=await a.get(`/operations?take=${t}&skip=${e}`,{headers:s()});return r==null?void 0:r.data}catch(r){throw new Error(r.message)}},w=async e=>{const{amount:t,debtId:r,type:i=1}=e;try{const o=await a.post("/operations/generateTransfer",{debt_id:r,amount_paid:t,type:i},{headers:s()}),{data:u}=o!=null?o:{};return u}catch(o){throw new Error(o.message)}},f=async e=>{try{const t=await a.get(`/operations/exportpdf/${e}`,{responseType:"blob",headers:s()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},k=async e=>{try{return await a.get(`/operations/sendMail/${e}`,{headers:s()})}catch(t){throw new Error(t.message)}},E=()=>{const e=n.getCookie("token");return c(["users","debts"],()=>m(),{enabled:!!e,staleTime:15*1e3*60})},O=e=>{const t=n.getCookie("token");return c(["users","debt",e],()=>b(e),{enabled:!!t&&!!e,staleTime:15*1e3*60})},C=(e,t=10)=>{const r=n.getCookie("token");return c(["user-operations-list",e,t],()=>p(e,t),{enabled:!!r,staleTime:15*1e3*60})},D=()=>{const e=d();return h(w,{onMutate:async()=>{await e.cancelQueries("operationNumber")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("operationNumber")}})};export{E as a,C as b,O as c,f as e,k as s,D as u};
