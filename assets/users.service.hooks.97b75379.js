import{a2 as c}from"./index.b54eacfb.js";import{t as s,w as o,d as i,x as u}from"./validations.utils.032e510f.js";import{b as d,c as p}from"./Layout.container.43b54f64.js";const b=async()=>{try{const e=await s.get("/debts",{headers:o()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},l=async e=>{var t;try{const r=await s.get(`/operations/${e}`,{headers:o()});return(t=r==null?void 0:r.data)==null?void 0:t.data}catch(r){throw new Error(r.message)}},h=async(e,t,r)=>{try{const a=await s.get(`/operations?take=${t}&skip=${e}`,{headers:o()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},w=async e=>{const{amount:t,debtId:r,type:a=1}=e;try{const n=await s.post("/operations/generateTransfer",{debt_id:r,amount_paid:t,type:a},{headers:o()}),{data:m}=n!=null?n:{};return m}catch(n){throw new Error(n.message)}},E=async e=>{try{const t=await s.get(`/operations/exportpdf/${e}`,{responseType:"blob",headers:o()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},N=async e=>{try{return await s.get(`/operations/sendMail/${e}`,{headers:o()})}catch(t){throw new Error(t.message)}},y=async e=>{const{debtId:t,operationNumber:r}=e!=null?e:{};try{return await s.post("/operations/failed",{debt_id:t,operation_number:r},{headers:o()})}catch(a){throw new Error(a.message)}},O=()=>{const e=i.getCookie("token");return d(["users","debts"],()=>b(),{enabled:!!e,staleTime:15*1e3*60})},Q=e=>{const t=i.getCookie("token");return d(["users","debt",e],()=>l(e),{enabled:!!t&&!!e,staleTime:15*1e3*60})},x=(e=0,t=10)=>{const r=i.getCookie("token");return p(["user-operations-list",e,t],({pageParam:a})=>h(e,t),{enabled:!!r,keepPreviousData:!0,staleTime:15*1e3*60,getNextPageParam:()=>{}})},C=()=>{const e=c();return u(w,{onMutate:async()=>{await e.cancelQueries("operationNumber")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("operationNumber")}})},D=()=>{const e=c();return u(y,{onMutate:async()=>{await e.cancelQueries("operationNumber")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("operationNumber")}})};export{D as a,O as b,x as c,Q as d,E as e,N as s,C as u};
