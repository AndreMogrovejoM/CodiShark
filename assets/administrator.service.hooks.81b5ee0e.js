import{C as d,a2 as h}from"./index.5722ca59.js";import{p as r,q as s,n as c,r as m}from"./auth.service.hooks.0eb91883.js";import{u as i}from"./useQuery.d44fefcf.js";const{API:u}=d,{REACT_APP_API_URL:o}=u,l=async()=>{try{const e=await r.get(`${o}/admin/home/panel/month`,{headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},w=async e=>{const{dateIni:t,dateEnd:a}=e;try{const n=await r.get(`${o}/admin/home/panel?dateIni=${t}&dateEnd=${a}`,{headers:s()});return n==null?void 0:n.data}catch(n){throw new Error(n.message)}},g=async(e,t)=>{try{const a=await r.get(`${o}/admin/users?rol=${e}&take=${t}`,{headers:s()});return a==null?void 0:a.data}catch(a){throw new Error(a.message)}},y=async(e,t=4)=>{const a=e?`${o}/admin/operations?status=${e}&take=${t}`:`${o}/admin/operations?take=${t}`;try{const n=await r.get(a,{headers:s()});return n==null?void 0:n.data}catch(n){throw new Error(n.message)}},p=async e=>{try{const t=await r.get(`${o}/admin/home/grafic/income?year=${e}`,{headers:s()});return t==null?void 0:t.data}catch(t){throw new Error(t.message)}},b=async()=>{try{const e=await r.get(`${o}/admin/export/users/pdf`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},A=async()=>{try{const e=await r.get(`${o}/admin/export/users/excel`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},x=async()=>{try{const e=await r.get(`${o}/admin/export/operations/pdf`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},T=async()=>{try{const e=await r.get(`${o}/admin/export/operations/excel`,{responseType:"blob",headers:s()});return e==null?void 0:e.data}catch(e){throw new Error(e.message)}},f=async()=>{try{const e=await r.post("/admin/generate2fa",{headers:s()}),{data:t}=e!=null?e:{};return t}catch(e){throw new Error(e.message)}},C=async()=>{try{return await r.get("/admin/generate2fa/active",{headers:s()})}catch(e){throw new Error(e.message)}},P=async()=>{try{return await r.get("/admin/generate2fa/desactive",{headers:s()})}catch(e){throw new Error(e.message)}},F=()=>{const e=c.getCookie("token");return i(["panel-month"],()=>l(),{enabled:!!e,staleTime:15*1e3*60})},v=(e,t)=>{const a=c.getCookie("token");return i(["panel",e,t],()=>w({dateIni:e,dateEnd:t}),{enabled:!!a&&!!e&&!!t,staleTime:15*1e3*60})},O=(e=1,t=4)=>{const a=c.getCookie("token");return i(["users-list",e,t],()=>g(e,t),{enabled:!!a,staleTime:15*1e3*60})},S=(e,t=4)=>{const a=c.getCookie("token");return i(["operations-list",e,t],()=>y(e,t),{enabled:!!a,staleTime:15*1e3*60})},U=e=>{const t=c.getCookie("token");return i(["graphics-income",e],()=>p(e),{enabled:!!t,staleTime:15*1e3*60})},Q=()=>{const e=h();return m(f,{onMutate:async()=>{await e.cancelQueries("2fa")},onError:()=>{console.error("")},onSettled:()=>{e.invalidateQueries("2fa")}})};export{v as a,S as b,F as c,O as d,b as e,A as f,Q as g,P as h,C as i,x as j,T as k,U as u};
